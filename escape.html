<!DOCTYPE html>
<head>
    <title>Escape Room!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<html>
<body>
    <div class="left-center-block">
        <a id="leftBtn">
            <img style = "width: 30px;" src = "pointLeft.png"></img> 
        </a> 
    </div>
    <div class="right-center-block"> 
        <a id="rightBtn">
            <img style = "width: 30px;" src = "pointRight.png"></img> 
        </a>  
    </div>

    <div class="right-bottom-block"> 
        <a id="inventoryBtn">
            <img style = "width: 90px;" src = "box (1).png"></img> 
        </a>  
    </div>

    <div class="right-top-block"> 
        <a id="helpBtn">
            <img style = "width: 90px;" src = "helpIcon.png"></img> 
        </a>  
    </div>

    <div class="left-bottom-block"> 
        <a id="hintBtn">
            <img style = "width: 90px;" src = "hintIcon.png"></img> 
        </a>  
    </div>


    <div id="inventory" class="popModal">

        <div class="center-block">
          <img id = "key" style = "display: none;width: 100%;" src = "key.png"></img> 
        </div>
      
    </div>

    <div id="help" class="popModal">

        <div class="popModalContent">
          <p>That computer over there looks interesting...</p>
        </div>
      
    </div>

    <div id="hint" class="popModal">

        <div class="popModalContent">
          <p>Hint Goes Here</p>
        </div>
        <div class="mascot"> 
            <img style = "width: 150px;" src = "mascot.png"></img> 
        </div>
      
    </div>

    <div id="Door" class = "DoorButton">
        <a id="DoorBtn">
        </a>  
    </div>

    <div id="PC" class = "PCButton">
        <a id="PCBtn">
        </a>  
    </div>

    <div id = "introduction" class ="popModal" style = "display: block;">
        <div class="left-bottom-npc">
            <a id="npc">
                <img style = "width: 50%;" src = "npc.png"></img> 
            </a> 
        </div>
        <div class="left-center-dialog">
            <a id="dialog">
                <img style = "width: 65%;" src = "dialog.png"></img> 
            </a> 
        </div>
        <div class="left-center-textbox">
            <a id="textbox">
                <p id = "1">
                    Hello! 
                    Welcome to "Escape the  <br>
                    Hackathon"! It's the game  <br>
                    where you must pay attention to   <br>
                    clues, solve puzzles, and collect  <br>
                    items to escape!
                </p>
                    <p style = "display: none" id = "2">
                        Before we begin, here's a short <br>
                        introduction to how you can navigate  <br>
                        the game. First, your inventory is in <br>
                        the bottom right-hand corner. Click it<br>
                        and you will see all the items currently <br>
                        in your inventory. Next, there is a hint <br>
                        for each level so if you get stuck, click <br>
                        it for...well...a hint! <br>
                    </p>
                <p style = "display: none" id = "3">
                    You are now ready to play "Escape <br>
                    the Hackathon." Good Luck! <br>
                </p>
                <button onclick= changeText()> Next </button>
            </a> 
        </div>
    </div>
    <div class="box-block"> 
        <a id="easterEggBtn">
            <img style = "width: 30px;" src = "easteregg.png"></img>   
         </a>
    </div>
    
    <div id="easterEgg" class="popModal">
    
        <div class="modalContentEgg">
          <p style = "font-family: Courier New; font-size:30px; color: white" > Congrats! You found the block! You get confetti </p>
        </div>
      
    </div>
    
    <body>
       
        <script src="confetti.js"></script>
        <!-- Confetti  JS-->
        <script>
    
            // start
    
            const start = () => {
                setTimeout(function() {
                    confetti.start()
                }, 500); 
            };
    
            //  Stop
    
            const stop = () => {
                setTimeout(function() {
                    confetti.stop()
                }, 1000);  
            };
        </script>
    </body>
    <script>
        var room = 1;
        var door =0;
        var left = document.getElementById("leftBtn");
        var right = document.getElementById("rightBtn");
        var inv = document.getElementById("inventoryBtn");
        var help = document.getElementById("helpBtn");
        var hint = document.getElementById("hintBtn");
        var PC = document.getElementById("PC");
        var Door = document.getElementById("Door");
        var invModal = document.getElementById("inventory");
        var helpModal = document.getElementById("help");
        var hintModal = document.getElementById("hint");
        var introModal = document.getElementById("introduction");
        var key = document.getElementById("key");
        var stat=1;
        var p1 = document.getElementById("1");
        var p2 = document.getElementById("2");
        var p3 = document.getElementById("3");
        var npc= document.getElementById("npc");
        var dialog= document.getElementById("dialog");
        var textbox= document.getElementById("textbox");
        var nextCount = 0;
        var sound = new Audio("applause.mp3");
        var easterEgg = document.getElementById("easterEggBtn");
        var easterEggModal = document.getElementById("easterEgg");

        easterEgg.onclick = function() {
            easterEggModal.style.display = "block";
            start();
            sound.play();
        }

        function changeText(){
            nextCount = nextCount + 1;
            if (nextCount == 3){
                var backgroundMusic = new Audio("backgroundMusic.mp3");
                backgroundMusic.play();
            }
            var prev;
            var next;
            switch (stat){
                case 1: 
                    prev =p1;
                    next=p2;
                    stat++;
                    break;

                case 2: 
                    prev =p2;
                    next=p3;
                    stat++;
                    break;
                
                case 3:
                    introModal.style.display = "none";

            }
            prev.style.display="none";
            next.style.display="inline";
        }
        function roomChange(){
            switch (room){
                case 1: 
                    document.body.style.backgroundImage = "url('image3.jpeg')";
                    easterEgg.style.display="none";
                    enRoom1();
                    break;

                case 2:
                    document.body.style.backgroundImage = "url('image2.jpeg')";
                    easterEgg.style.display="inline";
                    enRoom2();
                    break;

                case 3: 
                    document.body.style.backgroundImage = "url('image1.jpeg')";
                    easterEgg.style.display="none";
                    enRoom3();
                    break;

                case 4:
                    document.body.style.backgroundImage = "url('image0.jpeg')";
                    enRoom4();
                    break;
            }
        }
        function enRoom1(){
            PC.style.display = "block";
        }
        function enRoom2(){
            PC.style.display = "none";
            Door.style.display = "none";
            easterEggBtn.style.display = "block";
        }
        function enRoom3(){
            if (door==1){
                Door.style.display = "block";
                Door.style.cursor = "pointer";
                easterEggBtn.style.display = "none";
            }
        }
        function enRoom4(){
            door.style.display = "none";
        }
        left.onclick = function() {
            if (room>1){
                room--;
                roomChange();
            }
        }
        right.onclick = function() {
            if (room<3){
                room++;
                roomChange();
            }
        }
        inv.onclick = function() {
            invModal.style.display = "block";
        }
        help.onclick = function() {
            helpModal.style.display = "block";
        }
        hint.onclick = function() {
            stat=1;
            p1.style.display = "inline";
            p3.style.display = "none";
            introModal.style.display = "block";
        }
        PC.onclick = function(){
            window.location = "justin.html";
            // key.style.display = "block";
            // door=1;
        }
        Door.onclick = function(){
            if (room==3)
                room++;
            roomChange();
        }
        window.onclick = function(event) {
            if (event.target == invModal) {
                invModal.style.display = "none";
            }
            if (event.target == helpModal) {
                helpModal.style.display = "none";
            }
            if (event.target == hintModal) {
                hintModal.style.display = "none";
            }
            if (event.target == easterEggModal) {
                easterEggModal.style.display = "none";
                stop();
            } 
        }

    </script>

</body>